{% extends "./base.html" %}

{% block content %}

<div class="container">

    <!-- ARTICLE INFORMATION -->

    <h1>{{ article.headline }}</h1>

    <p>{{ article.byline }}</p>

    <p>By: {{ article.author }}</p>

    <p>Published on: {{ article.date_published }}</p>

    <div class="text-center">
        <img src="{{ article.picture_src }}" alt="img" class="rounded" width="50%">
    </div>
    
    <!-- ARTICLE BODY -->

    {% for section in article.sections.all %}
        <p>{{ section.paragraph }}</p>
    {% endfor %}

    <hr>

    <!-- COMMENT FIELD -->

    <p>Post comment (as Obama for now):</p>

    <form action="{% url 'post_comment' article.id %}" method="post">
        {% csrf_token %}
        <input type="text" name="Comment">
        <input type="submit" name="Submit">
    </form>

    {% if msg %}
        <p style='color:red;'>{{ msg }}</p>
    {% endif %}

    <hr>

    <!-- COMMENT SECTION -->

    <p>List of comments:</p>

    <ul>
        {% for section in article.sections.all %}
            
            {% for comment in section.comments.all %}
                <li><b>{{ comment.creator }}: </b>{{ comment }}</li>
            {% endfor %}
            
        {% endfor %}
    </ul>

</div>

{% endblock %}